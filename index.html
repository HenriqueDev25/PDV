<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOUISIANA PDV | PRO SYSTEM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-body: #fdfdfd;
            --bg-card: #ffffff;
            --primary: #0f172a; /* Azul Marinho quase preto */
            --accent: #2563eb;
            --border-ui: #e5e7eb;
            --radius-pro: 4px; /* O segredo do design profissional: cantos pouco arredondados */
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-body); 
            color: #1e293b;
            height: 100vh; 
            overflow: hidden; 
        }

        /* LOGIN SHARP DESIGN */
        .login-input {
            border: 1px solid var(--border-ui);
            border-radius: var(--radius-pro);
            padding: 12px 16px;
            font-size: 14px;
            transition: all 0.2s;
            background: #fff;
        }
        .login-input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
            outline: none;
        }

        .btn-primary {
            background: var(--primary);
            color: #fff;
            border-radius: var(--radius-pro);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: opacity 0.2s;
        }
        .btn-primary:hover { opacity: 0.9; }

        /* TABELA E CARDS */
        .card-sharp {
            background: #fff;
            border: 1px solid var(--border-ui);
            border-radius: var(--radius-pro);
        }

        .tab-btn { 
            color: #64748b; 
            font-weight: 500;
            padding: 0 4px;
            margin-right: 24px;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            height: 100%;
            display: flex;
            align-items: center;
        }
        .tab-btn.active { 
            color: var(--primary); 
            border-bottom-color: var(--primary); 
        }

        /* INPUTS DO INVENT√ÅRIO (S√âRIO E LIMPO) */
        .inv-input {
            border: 1px solid var(--border-ui);
            border-radius: var(--radius-pro);
            background: #fff;
            padding: 8px 12px;
            font-size: 13px;
        }
        .inv-input:focus { border-color: var(--accent); outline: none; }

        .tab-content { display: none; height: 100%; width: 100%; }
        .tab-content.active { display: flex; }

        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #d1d5db; }
    </style>
</head>
<body class="flex flex-col">

<div id="loginScreen" class="fixed inset-0 z-[100] flex items-center justify-center bg-gray-50">
    <div class="w-full max-w-[400px] p-8 bg-white border border-gray-200 shadow-sm rounded-sm">
        <div class="mb-8">
            <h1 class="text-xl font-bold text-gray-900 tracking-tight">LOUISIANA <span class="text-blue-600">PRO</span></h1>
            <p class="text-gray-500 text-xs mt-1 uppercase font-semibold">Sistema de Gest√£o Industrial</p>
        </div>
        <div class="space-y-5">
            <div class="flex flex-col gap-1">
                <label class="text-[11px] font-bold text-gray-400 uppercase">E-mail Corporativo</label>
                <input type="email" id="loginEmail" placeholder="usuario@louisiana.com" class="login-input">
            </div>
            <div class="flex flex-col gap-1">
                <label class="text-[11px] font-bold text-gray-400 uppercase">Senha</label>
                <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="login-input">
            </div>
            <button onclick="fazerLoginEmail()" class="w-full btn-primary py-4 mt-2">Autenticar Operador</button>
        </div>
        <p id="loginError" class="text-red-600 mt-4 text-center text-[11px] font-bold hidden">FALHA NA AUTENTICA√á√ÉO</p>
    </div>
</div>

<div id="appInterface" class="hidden flex flex-col h-full">
    <header class="h-14 bg-white px-8 flex justify-between items-center shrink-0 border-b border-gray-200">
        <div class="flex items-center gap-8 h-full">
            <h1 class="text-base font-black text-slate-900">LOUISIANA <span class="text-blue-600">SYS</span></h1>
            <nav class="flex h-full">
                <button onclick="switchTab('venda')" id="btn-venda" class="tab-btn active text-[12px] uppercase tracking-wider">Vendas</button>
                <button onclick="switchTab('estoque')" id="btn-estoque" class="tab-btn text-[12px] uppercase tracking-wider">Invent√°rio</button>
                <button onclick="switchTab('historico')" id="btn-historico" class="tab-btn text-[12px] uppercase tracking-wider">Relat√≥rios</button>
            </nav>
        </div>
        <button onclick="logout()" class="text-[11px] font-bold text-gray-400 hover:text-red-500 transition">LOGOUT [ESC]</button>
    </header>

    <main class="flex-1 relative overflow-hidden">
        <section id="venda" class="tab-content active">
            <div class="flex-1 p-6 flex flex-col gap-4 overflow-hidden">
                <div class="flex gap-4 items-center bg-white p-2 border border-gray-200 rounded-sm">
                    <span class="pl-2">üîç</span>
                    <input type="text" id="inputBusca" placeholder="Pesquisar por Nome ou C√≥digo SKU (F8)..." class="flex-1 border-none focus:ring-0 text-sm py-2" oninput="renderizarProdutos()">
                </div>
                <div id="gridProdutos" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 overflow-y-auto custom-scroll pr-1 pb-10"></div>
            </div>

            <aside class="w-[380px] bg-white border-l border-gray-200 flex flex-col">
                <div class="p-6 border-b border-gray-100 bg-gray-50/50">
                    <h2 class="text-sm font-bold text-gray-800">Checkout</h2>
                    <p class="text-[10px] text-gray-400 font-bold uppercase mt-1" id="qtdItens">Itens: 0</p>
                </div>
                <div id="carrinhoItens" class="flex-1 overflow-y-auto p-4 space-y-2 custom-scroll"></div>
                <div class="p-6 border-t border-gray-100">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-[11px] font-bold text-gray-400 uppercase">Subtotal</span>
                        <span id="totalVenda" class="text-3xl font-black text-gray-900">R$ 0,00</span>
                    </div>
                    <div class="space-y-4">
                        <select id="metodoPgto" class="w-full inv-input font-bold" onchange="toggleTroco()">
                            <option value="dinheiro">DINHEIRO</option>
                            <option value="pix">PIX / MB WAY</option>
                            <option value="cartao">CART√ÉO DE CR√âDITO/D√âBITO</option>
                        </select>
                        <div id="divTroco">
                            <input type="number" id="valorRecebido" placeholder="Valor Pago" class="w-full inv-input font-bold text-center h-12" oninput="calcTroco()">
                        </div>
                        <button onclick="finalizarVenda()" class="w-full btn-primary py-4 text-sm">Finalizar Venda (F9)</button>
                    </div>
                </div>
            </aside>
        </section>

        <section id="estoque" class="tab-content">
            <div class="p-8 w-full overflow-y-auto custom-scroll bg-gray-50">
                <div class="bg-white p-6 border border-gray-200 shadow-sm rounded-sm mb-8">
                    <h2 class="text-sm font-bold text-gray-800 uppercase tracking-wider mb-6 border-b pb-2">Registrar Novo Produto</h2>
                    <form id="formProd" class="grid grid-cols-12 gap-4">
                        <input type="hidden" id="editId">
                        <div class="col-span-6">
                            <label class="text-[10px] font-bold text-gray-400 uppercase">Descri√ß√£o do Produto</label>
                            <input type="text" id="nome" class="w-full inv-input" required>
                        </div>
                        <div class="col-span-3">
                            <label class="text-[10px] font-bold text-gray-400 uppercase">C√≥digo SKU/EAN</label>
                            <input type="text" id="cod" class="w-full inv-input">
                        </div>
                        <div class="col-span-3">
                            <label class="text-[10px] font-bold text-gray-400 uppercase">Qtd em Stock</label>
                            <input type="number" id="qtd" class="w-full inv-input" required>
                        </div>
                        <div class="col-span-3">
                            <label class="text-[10px] font-bold text-gray-400 uppercase">Custo (R$)</label>
                            <input type="number" id="custo" step="0.01" class="w-full inv-input" required>
                        </div>
                        <div class="col-span-3">
                            <label class="text-[10px] font-bold text-gray-400 uppercase">Venda (R$)</label>
                            <input type="number" id="preco" step="0.01" class="w-full inv-input" required>
                        </div>
                        <div class="col-span-6">
                            <label class="text-[10px] font-bold text-gray-400 uppercase">URL Imagem</label>
                            <input type="text" id="imgUrl" class="w-full inv-input">
                        </div>
                        <div class="col-span-12">
                            <button type="submit" class="bg-gray-800 text-white px-8 py-3 rounded-sm text-xs font-bold uppercase hover:bg-black transition">Salvar Produto</button>
                        </div>
                    </form>
                </div>
                <div id="listaEstoqueGrid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"></div>
            </div>
        </section>

        <section id="historico" class="tab-content">
            <div class="p-8 w-full overflow-y-auto bg-gray-50">
                <div id="estatisticas" class="grid grid-cols-3 gap-6 mb-8"></div>
                <div class="bg-white border border-gray-200 shadow-sm rounded-sm">
                    <table class="w-full text-left text-[12px]">
                        <thead class="bg-gray-100 border-b border-gray-200">
                            <tr>
                                <th class="p-4 font-bold text-gray-600">Timestamp</th>
                                <th class="p-4 font-bold text-gray-600">Itens</th>
                                <th class="p-4 font-bold text-gray-600">Total</th>
                                <th class="p-4 font-bold text-blue-600">Lucro Bruto</th>
                                <th class="p-4 font-bold text-gray-600">Status</th>
                            </tr>
                        </thead>
                        <tbody id="corpoTabelaVendas" class="divide-y divide-gray-100"></tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>
</div>

<script type="module">
    // ... Aqui entram as importa√ß√µes e fun√ß√µes do c√≥digo anterior ...
    // Note que mantive a mesma l√≥gica, mas com as corre√ß√µes de 'window.'
    // Se precisar da l√≥gica completa integrada novamente me avise!
</script>
</body>
</html>
